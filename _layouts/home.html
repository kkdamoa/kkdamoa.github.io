---
layout: archive
---

{{ content }}

<h3 class="archive__subtitle">{{ site.data.ui-text[site.locale].recent_posts | default: "Recent Posts" }}</h3>

{% if paginator %}
  {% assign posts = paginator.posts %}
{% else %}
  {% assign posts = site.posts %}
{% endif %}

{% assign entries_layout = page.entries_layout | default: 'list' %}
<div class="entries-{{ entries_layout }}">
  {% include documents-collection.html entries=posts type=entries_layout %}
</div>

<!-- 팝업 오버레이 -->
<div id="popup-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 999;"></div>

<!-- 팝업 -->
<div id="adPopup" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 300px; padding: 20px; background: white; border: 1px solid #ccc; z-index: 1000; text-align: center;">
    <p>24시간 동안 광고 안 보기</p>
    <p>광고를 시청하려면 아래 버튼을 클릭하세요.</p>
    <button onclick="showAd()">광고 보기</button>
</div>

<!-- Google AdSense 광고 코드 시작 -->
<div class="ad-banner" style="display: none;" id="adContent">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9374368296307755"
        crossorigin="anonymous"></script>
    <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-9374368296307755"
        data-ad-slot="1966797795"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>
<!-- Google AdSense 광고 코드 끝 -->

{% include paginator.html %}

<script>
    let countdownInterval;

    // 페이지 로드 시 팝업 자동 표시
    window.onload = function() {
        const lastAdSeen = localStorage.getItem('lastAdSeen');
        const now = new Date().getTime();

        if (!lastAdSeen || now - lastAdSeen > 24 * 60 * 60 * 1000) {
            showPopup();
        }
    };

    function showPopup() {
        document.getElementById("adPopup").style.display = "block";
        document.getElementById("popup-overlay").style.display = "block";
    }

    function showAd() {
        document.getElementById("adPopup").style.display = "none";
        document.getElementById("adContent").style.display = "block";

        // 5~10초 사이의 랜덤 시간 생성
        const displayTime = Math.floor(Math.random() * 6) + 5;
        let remainingTime = displayTime;

        countdownInterval = setInterval(() => {
            remainingTime -= 1;

            if (remainingTime <= 0) {
                closeAd();
            }
        }, 1000);
    }

    function closeAd() {
        clearInterval(countdownInterval);
        document.getElementById("adContent").style.display = "none";
        document.getElementById("popup-overlay").style.display = "none";
        localStorage.setItem('lastAdSeen', new Date().getTime());
    }
</script>
